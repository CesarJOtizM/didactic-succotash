<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <defs>
    <style>
      .title {
        font-family: Arial, sans-serif;
        font-size: 16px;
        font-weight: bold;
      }

      .subtitle {
        font-family: Arial, sans-serif;
        font-size: 12px;
      }

      .user-box {
        fill: #1f77b4;
        stroke: #1565c0;
        stroke-width: 2;
      }

      .system-box {
        fill: #2ca02c;
        stroke: #1b5e20;
        stroke-width: 2;
      }

      .external-box {
        fill: #ff7f0e;
        stroke: #e65100;
        stroke-width: 2;
      }

      .infra-box {
        fill: #d62728;
        stroke: #b71c1c;
        stroke-width: 2;
      }

      .text-white {
        fill: white;
      }

      .text-black {
        fill: black;
      }

      .arrow {
        stroke: #333;
        stroke-width: 2;
        fill: none;
        marker-end: url(#arrowhead);
      }

      .dotted-arrow {
        stroke: #666;
        stroke-width: 2;
        fill: none;
        stroke-dasharray: 5, 5;
        marker-end: url(#arrowhead);
      }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">Didactic Succotash - Diagrama de Contexto C4</text>

  <!-- Users Group -->
  <rect x="50" y="80" width="200" height="150" rx="10" class="user-box" />
  <text x="150" y="105" text-anchor="middle" class="title text-white">Sistema Didactic Succotash</text>

  <!-- User -->
  <rect x="70" y="120" width="160" height="40" rx="5" fill="rgba(255,255,255,0.2)" />
  <text x="150" y="135" text-anchor="middle" class="subtitle text-white">👤 Usuario</text>
  <text x="150" y="150" text-anchor="middle" class="subtitle text-white">Administra órdenes de pago</text>

  <!-- Admin -->
  <rect x="70" y="170" width="160" height="40" rx="5" fill="rgba(255,255,255,0.2)" />
  <text x="150" y="185" text-anchor="middle" class="subtitle text-white">👨‍💼 Administrador</text>
  <text x="150" y="200" text-anchor="middle" class="subtitle text-white">Administra base de datos</text>

  <!-- Main System -->
  <rect x="300" y="150" width="200" height="100" rx="10" class="system-box" />
  <text x="400" y="175" text-anchor="middle" class="title text-white">🌐 Aplicación Web</text>
  <text x="400" y="195" text-anchor="middle" class="subtitle text-white">Next.js + React</text>
  <text x="400" y="210" text-anchor="middle" class="subtitle text-white">Gestión de órdenes de pago</text>
  <text x="400" y="235" text-anchor="middle" class="subtitle text-white">Didactic Succotash System</text>

  <!-- External Systems -->
  <rect x="550" y="80" width="200" height="80" rx="10" class="external-box" />
  <text x="650" y="105" text-anchor="middle" class="title text-white">Sistemas Externos</text>
  <text x="650" y="130" text-anchor="middle" class="subtitle text-white">💳 Pasarela de Pagos</text>
  <text x="650" y="145" text-anchor="middle" class="subtitle text-white">Procesa pagos</text>

  <!-- Infrastructure -->
  <rect x="300" y="300" width="200" height="150" rx="10" class="infra-box" />
  <text x="400" y="325" text-anchor="middle" class="title text-white">Infraestructura</text>

  <!-- Database -->
  <rect x="320" y="340" width="160" height="40" rx="5" fill="rgba(255,255,255,0.2)" />
  <text x="400" y="355" text-anchor="middle" class="subtitle text-white">🗄️ PostgreSQL</text>
  <text x="400" y="370" text-anchor="middle" class="subtitle text-white">Almacena datos de órdenes</text>

  <!-- PGAdmin -->
  <rect x="320" y="390" width="160" height="40" rx="5" fill="rgba(255,255,255,0.2)" />
  <text x="400" y="405" text-anchor="middle" class="subtitle text-white">🔧 PGAdmin</text>
  <text x="400" y="420" text-anchor="middle" class="subtitle text-white">Interface de administración DB</text>

  <!-- Arrows -->
  <!-- User to WebApp -->
  <path d="M 250 155 L 300 180" class="arrow" />

  <!-- Admin to PGAdmin -->
  <path d="M 250 190 Q 275 240 300 360" class="arrow" />

  <!-- WebApp to Database -->
  <path d="M 400 250 L 400 300" class="arrow" />

  <!-- WebApp to Payment Gateway -->
  <path d="M 500 180 L 550 120" class="dotted-arrow" />

  <!-- PGAdmin to Database -->
  <path d="M 380 390 L 380 380" class="arrow" />
</svg>